<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Cadastro - Grêmio Colorado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Script do Font Awesome para os ícones -->
    <script src="https://kit.fontawesome.com/c707ea077b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/_css/estilo.css">
</head>
<style>
    /* Parte da Agenda de Eventos */
    body {
        margin: 0;
        font-family: 'Roboto', sans-serif;
        background-color: var(--cor-cinza-fundo);
        color: var(--cor-texto);
    }

    .topo-galeria {
        display: grid;
        grid-template-columns: 1fr auto auto auto;
        gap: 20px;
        align-items: center;
        background-color: black;
        color: white;
    }

    .botao-galeria {
        background-color: rgb(44, 44, 44);
        border: none;
        color: white;
        padding: 10px 20px;
        margin: 0 -10px;
        font-size: 18px;
        cursor: pointer;
        height: 90px;
        width: 120px;
        border-bottom: var(--cor-dourada) 7px solid;
    }

    .botao-galeria:hover {
        border-bottom-color: #8D7B68;
    }

    .botao-sair {
        justify-self: right;
        background-color: var(--cor-vermelha);
        border: none;
        color: white;
        padding: 10px 20px;
        margin-right: 120px;
        border-radius: 18px;
        font-size: 18px;
        cursor: pointer;
        height: 40px;
        width: 80px;
    }

    .botao-sair a {
        text-decoration: none;
        color: white;
        margin: 0;
    }

    .logo-galeria,
    a {
        justify-self: left;
        margin-left: 16px;
        height: 90px;
        width: 90px;
    }
</style>

<body>
    <div class="topo-galeria">
        <a href="index.html">
            <img class="logo-galeria" src="_imagens/gremioColoradoLogo.png" alt="Logo Grêmio Colorado">
        </a>
        <button class="botao-galeria">Galeria</button>
        <button class="botao-galeria">Agenda</button>
        <button class="botao-sair"><a href="login.html">Sair</a></button>

    </div>
    <div class="containerCadastro">
        <form class="formulario" id="formCadastro">
            <div class="layout-formulario">
                <div class="coluna-esquerda">
                    <div class="grupo-formulario">
                        <label for="nome">Nome:</label>
                        <input type="text" id="nome" name="nome" required>
                    </div>
                    <div class="grupo-formulario">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="grupo-formulario">
                        <label for="telefone">Telefone:</label>
                        <input type="tel" id="telefone" name="telefone">
                    </div>
                    <div class="grupo-formulario">
                        <label for="idade">Idade:</label>
                        <input type="number" id="idade" name="idade">
                    </div>
                    <div class="grupo-formulario">
                        <label for="turma">Turma:</label>
                        <input type="text" id="turma" name="turma">
                    </div>
                </div>
                <div class="coluna-direita">
                    <!-- <div class="logo-placeholder">LOGO</div> -->
                    <div class="grupo-formulario">
                        <label for="esporte">Esporte Favorito:</label>
                        <input type="text" id="esporte" name="esporte">
                    </div>
                    <div class="grupo-formulario">
                        <label for="cpf">CPF:</label>
                        <input type="text" id="cpf" name="cpf">
                    </div>
                    <div class="grupo-formulario">
                        <label for="esporte">Senha:</label>
                        <input type="text" id="senha" name="senha">
                    </div>
                    <div class="grupo-formulario">
                        <label>Receber novidades?</label>
                        <div class="grupo-radio">
                            <input type="radio" id="novidades-sim" name="novidades" value="sim" checked>
                            <label for="novidades-sim">Sim</label>
                            <input type="radio" id="novidades-nao" name="novidades" value="nao">
                            <label for="novidades-nao">Não</label>
                        </div>
                    </div>
                    <div class="grupo-botoes">
                        <button type="submit" class="botao botao-cadastrar">Cadastrar</button>
                        <button type="button" id="btnGerarJson" class="botao botao-json">Gerar JSON</button>
                    </div>
                </div>
            </div>
        </form>
    </div>


    <!-- Modal de Confirmação -->
    <div id="modalConfirmacao" class="modal">
        <div class="modal-conteudo">
            <i class="fas fa-trophy"></i>
            <h2>CADASTRO CONFIRMADO!!!</h2>
            <p>Bem-vindo ao Grêmio Colorado!</p>
            <button id="modalBotaoVoltar" class="botao modal-botao">Voltar</button>
        </div>
    </div>

    <script>

        function criarETelecarregarTXT(conteudo, nomeArquivo) {
            // 1. Cria um Blob com o conteúdo e o tipo de arquivo (text/plain)
            const blob = new Blob([conteudo], { type: "text/plain" });

            // 2. Cria um elemento de link <a> para o download
            const link = document.createElement("a");

            // 3. Cria um URL para o Blob (o conteúdo do arquivo)
            const url = URL.createObjectURL(blob);

            // 4. Define o atributo href do link para o URL do Blob
            link.href = url;

            // 5. Define o atributo 'download' para especificar o nome do arquivo
            link.download = nomeArquivo;

            // 6. Adiciona o link ao corpo do documento (necessário para que o clique funcione)
            document.body.appendChild(link);

            // 7. Simula um clique no link para iniciar o download
            link.click();

            // 8. Remove o link do corpo do documento e libera o URL do objeto para evitar vazamento de memória
            setTimeout(function () {
                document.body.removeChild(link);
                window.URL.revokeObjectURL(url);
            }, 0);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('formCadastro');
            const btnGerarJson = document.getElementById('btnGerarJson');
            const modal = document.getElementById('modalConfirmacao');
            const modalBotaoVoltar = document.getElementById('modalBotaoVoltar');

            // Lógica para o botão "Cadastrar"
            form.addEventListener('submit', (event) => {
                event.preventDefault(); // Impede o envio real do formulário
                modal.style.display = 'flex'; // Exibe o modal
            });

            // Lógica para o botão "Gerar JSON"
            btnGerarJson.addEventListener('click', () => {
                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());
                const jsonData = JSON.stringify(data, null, 2);

                // Exibe o JSON no console do navegador
                console.log("JSON Gerado:");
                console.log(jsonData);
                criarETelecarregarTXT(jsonData, "ArquivoJson");

                // Opcional: Alerta para avisar o usuário
                alert("O JSON com os dados do formulário foi gerado no console do navegador (Pressione F12 para ver).");
            });

            // Lógica para fechar o modal
            modalBotaoVoltar.addEventListener('click', () => {
                modal.style.display = 'none';
                form.reset(); // Limpa o formulário
            });
        });
    </script>
</body>

</html>